<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>String Formatting module | Cnx A Proof-of-Concept For A Modern Standard Library for GNU C (11+)</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">Cnx <span class="m-thin">A Proof-of-Concept For A Modern Standard Library for GNU C (11+)</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="2">
            <li><a href="annotated.html">Classes</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          String Formatting <span class="m-thin">module</span></h1>
        <nav class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#nested-classes">Classes</a></li>
                <li><a href="#enum-members">Enums</a></li>
                <li><a href="#typedef-members">Typedefs</a></li>
                <li><a href="#define-members">Defines</a></li>
              </ul>
            </li>
          </ul>
        </nav>
<p>Cnx&#x27;s formatting API creates a composable, ergonomic, human-readable way to format data into strings for storage or I/O.</p><p>The interface and functionality is similar to C++&#x27;s <code>std::format</code>, and the popular <code>fmtlib</code> it&#x27;s derived from, and Rust&#x27;s <code>std::format</code>. Example:</p><pre class="m-code"><span class="n">let</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.0F</span><span class="p">;</span>
<span class="n">let</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">1.0F</span><span class="p">;</span>
<span class="c1">// formats x and y as normal decimal format with one significant figure after the decimal point</span>
<span class="n">let</span> <span class="n">formatted</span> <span class="o">=</span> <span class="n">cnx_format</span><span class="p">(</span><span class="s">&quot;x: {d1}, y: {d1}&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span></pre><p>Formatting currently supports the following optional format specifiers:</p><ol><li><code>&#x27;d&#x27;</code>: standard decimal formatting. Applies to integral types and floating point numbers. Floating point numbers accept an additional numeric postfix to set the number of digits after the decimal point.</li><li><code>&#x27;x&#x27;</code>: lower-case hexadecimal. Applies to integral types.</li><li><code>&#x27;X&#x27;</code>: upper-case hexadecimal. Applies to integral types.</li><li><code>&#x27;e&#x27;</code>: Scientific notation. Applies to floating point types. Accepts an additional numeric postfix to set the number of digits after the decimal point.</li></ol><p>The default for integral types is decimal, and the default for floating point numbers is scientific. The default number of digits after the decimal point for floating point types is 3. <code>bool</code>s are special cased and do not accept a format specifier. They will format directly to &quot;true&quot; or &quot;false&quot;.</p><p>Format allows for extension and composition of formatting for user-defined types by allowing the implementation of the <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> Trait for those types.</p><p>To provide an implementation of <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> for your type, only two functions and the Trait implementation are required. The functions take the following signatures:</p><pre class="m-code"><span class="n">CnxString</span> <span class="p">(</span><span class="o">*</span><span class="k">const</span> <span class="n">your_format</span><span class="p">)(</span><span class="k">const</span> <span class="n">CnxFormat</span><span class="o">*</span> <span class="kr">restrict</span> <span class="n">self</span><span class="p">,</span> <span class="n">CnxFormatSpecifier</span> <span class="n">specifier</span><span class="p">);</span>
<span class="n">CnxString</span> <span class="p">(</span><span class="o">*</span><span class="k">const</span> <span class="n">your_format_with_allocator</span><span class="p">)(</span><span class="k">const</span> <span class="n">CnxFormat</span><span class="o">*</span> <span class="kr">restrict</span> <span class="n">self</span><span class="p">,</span>
                                              <span class="n">CnxFormatSpecifier</span> <span class="n">specifier</span><span class="p">,</span>
                                              <span class="n">CnxAllocator</span> <span class="n">allocator</span><span class="p">);</span></pre><p>And providing the Trait implementation is as simple as:</p><pre class="m-code"><span class="n">ImplTraitFor</span><span class="p">(</span><span class="n">CnxFormat</span><span class="p">,</span> <span class="n">your_type</span><span class="p">,</span> <span class="n">your_format</span><span class="p">,</span> <span class="n">your_format_with_allocator</span><span class="p">);</span></pre><p>In practice, you will probably be providing this Trait implementation in a header file, so you&#x27;ll also probably want to mark it as <code>static</code> and `__attr(maybe_unused)</p><pre class="m-code"><span class="n">__attr</span><span class="p">(</span><span class="n">maybe_unused</span><span class="p">)</span> <span class="k">static</span> <span class="n">ImplTraitFor</span><span class="p">(</span><span class="n">CnxFormat</span><span class="p">,</span> <span class="n">your_type</span><span class="p">,</span> <span class="n">your_format</span><span class="p">,</span>
<span class="n">your_format_with_allocator</span><span class="p">);</span></pre><p>By default, the conversion to <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> is only automatic for builtin types and some extra types like <code><a href="structCnxString.html" class="m-doc">CnxString</a></code>, and for user-defined types the conversion will have to be made explicitly by calling <code><a href="group__format.html#ga0755f0dd16e73aac58e4f1c104d1d40b" class="m-doc">as_<wbr />format_<wbr />t(T, x)</a></code> on variables of those types. However, automatic conversions for <strong>specific</strong> user defined types can be enabled by defining a pair of macros prior to including &quot;CnxFormat.h&quot;. First, define <a href="group__format.html#ga5925dbdf44de36d4aa611d39616f24bb" class="m-doc">CNX_<wbr />AS_<wbr />FORMAT_<wbr />USES_<wbr />USER_<wbr />SUPPLIED_<wbr />TYPES</a> to <code>true</code>. Then, define <a href="group__format.html#gab945b0e130ada3c43b297945f1786047" class="m-doc">CNX_<wbr />AS_<wbr />FORMAT_<wbr />USER_<wbr />SUPPLIED_<wbr />TYPES</a> to a comma separated list of types and their conversions. For example:</p><pre class="m-code"><span class="cp">#define CNX_AS_FORMAT_USES_USER_SUPPLIED_TYPES true</span>
<span class="cp">#define CNX_AS_FORMAT_USER_SUPPLIED_TYPES T*        : as_format_t(T, x),    \</span>
<span class="cp">                                          const T*  : as_format_t(T2, x),   \</span>
<span class="cp">                                          T2*       : as_format_t(T2, x),   \</span>
<span class="cp">                                          const T2* : as_format_t(T2, x),</span></pre><p>where <code>T</code> and <code>T2</code> are your supplied types. <code>x</code> should always be the second argument to the conversion function (literally always give <code>x</code> as the second argument). <code><a href="group__format.html#ga8875030a5ae8a1d926bbac6e184c6791" class="m-doc">cnx_<wbr />format(format_<wbr />string, ...)</a></code> automatically applies the <code><a href="group__format.html#ga1f1f5d22f6179041556466971eb4bb61" class="m-doc">as_<wbr />format(x)</a></code> <code>_Generic</code> macro to all format arguments in the parameter pack to perform the automatic conversion to <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code>, and this syntax is necessary to provide valid match arms in the <code><a href="group__format.html#ga1f1f5d22f6179041556466971eb4bb61" class="m-doc">as_<wbr />format(x)</a></code> macro for that conversion.</p><p>A complete example of implementing and using <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code>:</p><pre class="m-code"><span class="k">typedef</span> <span class="k">struct</span> <span class="n">Point2D</span> <span class="p">{</span>
    <span class="kt">float</span> <span class="n">x</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span> <span class="n">Point2D</span><span class="p">;</span>

<span class="cp">#define CNX_AS_FORMAT_USES_USER_SUPPLIED_TYPES true</span>
<span class="cp">#define CNX_AS_FORMAT_USER_SUPPLIED_TYPES Point2D*          : as_format_t(Point2D, x),  \</span>
<span class="cp">                                          const Point2D*    : as_format_t(Point2D, x),</span>

<span class="cp">#include</span> <span class="cpf">&lt;Cnx/Format.h&gt;</span><span class="cp"></span>

<span class="kr">inline</span> <span class="k">static</span> <span class="n">CnxString</span> <span class="nf">point2d_format_with_allocator</span><span class="p">(</span><span class="k">const</span> <span class="n">CnxFormat</span><span class="o">*</span> <span class="kr">restrict</span> <span class="n">self</span><span class="p">,</span>
                                                      <span class="n">CnxFormatSpecifier</span> <span class="n">specifier</span><span class="p">,</span>
                                                      <span class="n">CnxAllocator</span> <span class="n">allocator</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// we won&#39;t user the specifier for our implementation, so ignore it.</span>
    <span class="c1">// As an alternative, we could use the specifier to determine how we should format</span>
    <span class="c1">// the `x` and `y` coordinates (decimal, scientific, number of sig figs, etc), but that</span>
    <span class="c1">// would be beyond the scope of this simple example.</span>
    <span class="n">ignore</span><span class="p">(</span><span class="n">specifier</span><span class="p">);</span>
    <span class="n">let</span> <span class="n">_self</span> <span class="o">=</span> <span class="n">static_cast</span><span class="p">(</span><span class="k">const</span> <span class="n">Point2D</span><span class="o">*</span><span class="p">)(</span><span class="n">self</span><span class="p">.</span><span class="n">m_self</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">cnx_format_with_allocator</span><span class="p">(</span><span class="s">&quot;Point2D: [x: {}, y: {}]&quot;</span><span class="p">,</span> <span class="n">allocator</span><span class="p">,</span> <span class="n">_self</span><span class="o">-&gt;</span><span class="n">x</span><span class="p">,</span> <span class="n">_self</span><span class="o">-&gt;</span><span class="n">y</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">inline</span> <span class="k">static</span> <span class="n">CnxString</span> <span class="nf">point2d_format</span><span class="p">(</span><span class="k">const</span> <span class="n">CnxFormat</span><span class="o">*</span> <span class="kr">restrict</span> <span class="n">self</span><span class="p">,</span>
                                       <span class="n">CnxFormatSpecifier</span> <span class="n">specifier</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">point2d_format_with_allocator</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">specifier</span><span class="p">,</span> <span class="n">cnx_allocator_new</span><span class="p">());</span>
<span class="p">}</span>

<span class="n">__attr</span><span class="p">(</span><span class="n">maybe_unused</span><span class="p">)</span> <span class="k">static</span>
<span class="n">ImplTraitFor</span><span class="p">(</span><span class="n">CnxFormat</span><span class="p">,</span> <span class="n">Point2D</span><span class="p">,</span> <span class="n">point2d_format</span><span class="p">,</span> <span class="n">point2d_format_with_allocator</span><span class="p">);</span>

<span class="kt">void</span> <span class="nf">point2d_print_legacy</span><span class="p">(</span><span class="k">const</span> <span class="n">Point2D</span><span class="o">*</span> <span class="kr">restrict</span> <span class="n">self</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">let</span> <span class="n">formatted</span> <span class="o">=</span> <span class="n">cnx_format</span><span class="p">(</span><span class="s">&quot;{}&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">self</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="n">cnx_string_into_cstring</span><span class="p">(</span><span class="n">formatted</span><span class="p">));</span>
<span class="p">}</span></pre>
        <section id="nested-classes">
          <h2><a href="#nested-classes">Classes</a></h2>
          <dl class="m-doc">
            <dt>
              struct <a href="structCnxFormatSpecifier.html" class="m-doc">CnxFormatSpecifier</a>
            </dt>
            <dd><code><a href="structCnxFormatSpecifier.html" class="m-doc">CnxFormatSpecifier</a></code> provides a method for passing format specifiers to other steps in the formatting process</dd>
            <dt>
              struct <a href="structCnxFormat.html" class="m-doc">CnxFormat</a>
            </dt>
            <dd></dd>
          </dl>
        </section>
        <section id="enum-members">
          <h2><a href="#enum-members">Enums</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">enum <a href="#gae264fe3305b69bdf39e4ff6cbb68d93c" class="m-doc">CnxFormatTypes</a> { </span><span class="m-doc-wrap"><a href="#ggae264fe3305b69bdf39e4ff6cbb68d93cab625a80530e2bb085bce11e56fae3650" class="m-doc">CNX_FORMAT_TYPE_DEFAULT</a> = 0,
              <a href="#ggae264fe3305b69bdf39e4ff6cbb68d93ca9cd78671f3d6e2fdb0862012410939a9" class="m-doc">CNX_FORMAT_TYPE_DECIMAL</a> = &#x27;d&#x27;,
              <a href="#ggae264fe3305b69bdf39e4ff6cbb68d93caca33426fb3e8a383ebadcfec61c44692" class="m-doc">CNX_FORMAT_TYPE_HEX_LOWER</a> = &#x27;x&#x27;,
              <a href="#ggae264fe3305b69bdf39e4ff6cbb68d93ca1738caa10730bc1438991c6b50eafafe" class="m-doc">CNX_FORMAT_TYPE_HEX_UPPER</a> = &#x27;X&#x27;,
              <a href="#ggae264fe3305b69bdf39e4ff6cbb68d93ca8ba19fffbeced403198ce3177e531bc3" class="m-doc">CNX_FORMAT_TYPE_SCIENTIFIC</a> = &#x27;e&#x27;,
              <a href="#ggae264fe3305b69bdf39e4ff6cbb68d93ca3a67b5b7635f652e26673fe695ddeb31" class="m-doc">CNX_FORMAT_TYPE_DEBUG</a> = &#x27;D&#x27; }</span>
            </dt>
            <dd>Cnx string formatting valid format specifiers.</dd>
          </dl>
        </section>
        <section id="typedef-members">
          <h2><a href="#typedef-members">Typedefs</a></h2>
          <dl class="m-doc">
            <dt>
              using <a href="#ga2abb454ba8815a3d39b4bd102922e30d" class="m-doc">CnxFormatTypes</a> = enum <a href="group__format.html#gae264fe3305b69bdf39e4ff6cbb68d93c" class="m-doc">CnxFormatTypes</a>
            </dt>
            <dd>Cnx string formatting valid format specifiers.</dd>
            <dt>
              using <a href="#ga2ccb146d36f74378d678a79a9ff41d0d" class="m-doc">CnxFormatSpecifier</a> = struct <a href="structCnxFormatSpecifier.html" class="m-doc">CnxFormatSpecifier</a>
            </dt>
            <dd><code><a href="structCnxFormatSpecifier.html" class="m-doc">CnxFormatSpecifier</a></code> provides a method for passing format specifiers to other steps in the formatting process</dd>
          </dl>
        </section>
        <section id="define-members">
          <h2><a href="#define-members">Defines</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga1771c4af779d4261b19fd43bb8256f70" class="m-doc">CNX_FORMAT_DEFAULT_NUM_SIG_FIGS</a></span>
            </dt>
            <dd>The default number of significant figures for floating point formatting.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga0755f0dd16e73aac58e4f1c104d1d40b" class="m-doc">as_format_t</a>(</span><span class="m-doc-wrap">T,
              x)</span>
            </dt>
            <dd>Converts the given variable into its associated <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> Trait implementation.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga5925dbdf44de36d4aa611d39616f24bb" class="m-doc">CNX_AS_FORMAT_USES_USER_SUPPLIED_TYPES</a></span>
            </dt>
            <dd>Feature enable macro to allow specific user-defined types to be automatically converted to their <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> implementation when passed to <code><a href="group__format.html#ga8875030a5ae8a1d926bbac6e184c6791" class="m-doc">cnx_<wbr />format(format_<wbr />string, ...)</a></code> or a similar Cnx string formatting function.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#gab945b0e130ada3c43b297945f1786047" class="m-doc">CNX_AS_FORMAT_USER_SUPPLIED_TYPES</a></span>
            </dt>
            <dd>Define this macro to a comma separated list of conversions to enable specific user-defined types to be automatically converted to their <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> implementation when passed to <code><a href="group__format.html#ga8875030a5ae8a1d926bbac6e184c6791" class="m-doc">cnx_<wbr />format(format_<wbr />string, ...)</a></code> or a similar Cnx string formatting function.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga1f1f5d22f6179041556466971eb4bb61" class="m-doc">as_format</a>(</span><span class="m-doc-wrap">x)</span>
            </dt>
            <dd>Converts the given variable into its associated <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> Trait implementation.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#gaa460ab88c2a53c06491f0bc55f371279" class="m-doc">cnx_format_with_allocator</a>(</span><span class="m-doc-wrap">format_string,
              allocator,
              ...)</span>
            </dt>
            <dd>Formats the various parameter pack arguments into their associated place in the given format string, using the provided allocator.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga8875030a5ae8a1d926bbac6e184c6791" class="m-doc">cnx_format</a>(</span><span class="m-doc-wrap">format_string,
              ...)</span>
            </dt>
            <dd>Formats the various parameter pack arguments into their associated place in the given format string, using the default allocator.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#gadb0a83f9ea3a7100b0983b311a7ad394" class="m-doc">cnx_vformat_with_allocator</a>(</span><span class="m-doc-wrap">format_string,
              allocator,
              num_args,
              list)</span>
            </dt>
            <dd>Formats the various <code>va_list</code> parameter pack arguments into their associated place in the given format string, using the provided allocator.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">#define <a href="#ga9f1f8e369d1772d8e4ea6e0a6881fc0d" class="m-doc">cnx_vformat</a>(</span><span class="m-doc-wrap">format_string,
              num_args,
              list)</span>
            </dt>
            <dd>Formats the various <code>va_list</code> parameter pack arguments into their associated place in the given format string, using the default allocator.</dd>
          </dl>
        </section>
        <section>
          <h2>Enum documentation</h2>
          <section class="m-doc-details" id="gae264fe3305b69bdf39e4ff6cbb68d93c"><div>
            <h3>
              enum <a href="#gae264fe3305b69bdf39e4ff6cbb68d93c" class="m-doc-self">CnxFormatTypes</a>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Cnx string formatting valid format specifiers.</p>
<p>Formatting currently supports the following optional format specifiers:</p><ol><li><code>&#x27;d&#x27;</code>: standard decimal formatting. Applies to integral types and floating point numbers. Floating point numbers accept an additional numeric postfix to set the number of digits after the decimal point.</li><li><code>&#x27;x&#x27;</code>: lower-case hexadecimal. Applies to integral types.</li><li><code>&#x27;X&#x27;</code>: upper-case hexadecimal. Applies to integral types.</li><li><code>&#x27;e&#x27;</code>: Scientific notation. Applies to floating point types. Accepts an additional numeric postfix to set the number of digits after the decimal point.</li></ol><ol><li><code>&#x27;D&#x27;</code>: Debug formatting. For numeric types, this is identical to the default formatting. For other types, this should be used to request formatting in a structural representation instead of a human-presentable one</li></ol><p>The default for integral types is decimal, and the default for floating point numbers is scientific. The default number of digits after the decimal point for floating point types is 3. <code>bool</code>s are special cased and do not accept a format specifier. They will format directly to &quot;true&quot; or &quot;false&quot;.</p>
          </div></section>
        </section>
        <section>
          <h2>Typedef documentation</h2>
          <section class="m-doc-details" id="ga2abb454ba8815a3d39b4bd102922e30d"><div>
            <h3>
              typedef enum <a href="group__format.html#gae264fe3305b69bdf39e4ff6cbb68d93c" class="m-doc">CnxFormatTypes</a> <a href="#ga2abb454ba8815a3d39b4bd102922e30d" class="m-doc-self">CnxFormatTypes</a>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Cnx string formatting valid format specifiers.</p>
<p>Formatting currently supports the following optional format specifiers:</p><ol><li><code>&#x27;d&#x27;</code>: standard decimal formatting. Applies to integral types and floating point numbers. Floating point numbers accept an additional numeric postfix to set the number of digits after the decimal point.</li><li><code>&#x27;x&#x27;</code>: lower-case hexadecimal. Applies to integral types.</li><li><code>&#x27;X&#x27;</code>: upper-case hexadecimal. Applies to integral types.</li><li><code>&#x27;e&#x27;</code>: Scientific notation. Applies to floating point types. Accepts an additional numeric postfix to set the number of digits after the decimal point.</li></ol><ol><li><code>&#x27;D&#x27;</code>: Debug formatting. For numeric types, this is identical to the default formatting. For other types, this should be used to request formatting in a structural representation instead of a human-presentable one</li></ol><p>The default for integral types is decimal, and the default for floating point numbers is scientific. The default number of digits after the decimal point for floating point types is 3. <code>bool</code>s are special cased and do not accept a format specifier. They will format directly to &quot;true&quot; or &quot;false&quot;.</p>
          </div></section>
          <section class="m-doc-details" id="ga2ccb146d36f74378d678a79a9ff41d0d"><div>
            <h3>
              typedef struct <a href="structCnxFormatSpecifier.html" class="m-doc">CnxFormatSpecifier</a> <a href="#ga2ccb146d36f74378d678a79a9ff41d0d" class="m-doc-self">CnxFormatSpecifier</a>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p><code><a href="structCnxFormatSpecifier.html" class="m-doc">CnxFormatSpecifier</a></code> provides a method for passing format specifiers to other steps in the formatting process</p>
<p><code><a href="structCnxFormatSpecifier.html" class="m-doc">CnxFormatSpecifier</a></code> is used internally by the builtin format implementations, and can be used by custom implementations, to communicate the required formatting method to the associated formatting functions</p>
          </div></section>
        </section>
        <section>
          <h2>Define documentation</h2>
          <section class="m-doc-details" id="ga1771c4af779d4261b19fd43bb8256f70"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga1771c4af779d4261b19fd43bb8256f70" class="m-doc-self">CNX_FORMAT_DEFAULT_NUM_SIG_FIGS</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>The default number of significant figures for floating point formatting.</p>
<p>By default, Cnx floating point formatting provides 3 significant figures after the decimal point in formatted output</p>
          </div></section>
          <section class="m-doc-details" id="ga0755f0dd16e73aac58e4f1c104d1d40b"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga0755f0dd16e73aac58e4f1c104d1d40b" class="m-doc-self">as_format_t</a>(</span><span class="m-doc-wrap">T,
              x)</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Converts the given variable into its associated <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> Trait implementation.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">T</td>
                  <td>- The concrete type of <code>x</code></td>
                </tr>
                <tr>
                  <td>x</td>
                  <td>- The variable to convert to its <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> Trait implementation</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td><code>x</code> as <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code></td>
                </tr>
              </tfoot>
            </table>
<p>There must be an implementation of <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> for the type <code>T</code> and <code>x</code> must be an lvalue of type <code>T</code>.</p>
          </div></section>
          <section class="m-doc-details" id="ga5925dbdf44de36d4aa611d39616f24bb"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga5925dbdf44de36d4aa611d39616f24bb" class="m-doc-self">CNX_AS_FORMAT_USES_USER_SUPPLIED_TYPES</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Feature enable macro to allow specific user-defined types to be automatically converted to their <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> implementation when passed to <code><a href="group__format.html#ga8875030a5ae8a1d926bbac6e184c6791" class="m-doc">cnx_<wbr />format(format_<wbr />string, ...)</a></code> or a similar Cnx string formatting function.</p>
<p>Requires that <a href="group__format.html#gab945b0e130ada3c43b297945f1786047" class="m-doc">CNX_<wbr />AS_<wbr />FORMAT_<wbr />USER_<wbr />SUPPLIED_<wbr />TYPES</a> is also defined to a comma separated list of conversions Example:</p><pre class="m-code"><span class="cp">#define CNX_AS_FORMAT_USES_USER_SUPPLIED_TYPES true</span>
<span class="cp">#define CNX_AS_FORMAT_USER_SUPPLIED_TYPES T*        : as_format_t(T, x),    \</span>
<span class="cp">                                          const T*  : as_format_t(T2, x),   \</span>
<span class="cp">                                          T2*       : as_format_t(T2, x),   \</span>
<span class="cp">                                          const T2* : as_format_t(T2, x),</span></pre>
          </div></section>
          <section class="m-doc-details" id="gab945b0e130ada3c43b297945f1786047"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#gab945b0e130ada3c43b297945f1786047" class="m-doc-self">CNX_AS_FORMAT_USER_SUPPLIED_TYPES</a></span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Define this macro to a comma separated list of conversions to enable specific user-defined types to be automatically converted to their <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> implementation when passed to <code><a href="group__format.html#ga8875030a5ae8a1d926bbac6e184c6791" class="m-doc">cnx_<wbr />format(format_<wbr />string, ...)</a></code> or a similar Cnx string formatting function.</p>
<p>Requires that <a href="group__format.html#ga5925dbdf44de36d4aa611d39616f24bb" class="m-doc">CNX_<wbr />AS_<wbr />FORMAT_<wbr />USES_<wbr />USER_<wbr />SUPPLIED_<wbr />TYPES</a> is also defined to <code>true</code> Example:</p><pre class="m-code"><span class="cp">#define CNX_AS_FORMAT_USES_USER_SUPPLIED_TYPES true</span>
<span class="cp">#define CNX_AS_FORMAT_USER_SUPPLIED_TYPES T*        : as_format_t(T, x),    \</span>
<span class="cp">                                          const T*  : as_format_t(T2, x),   \</span>
<span class="cp">                                          T2*       : as_format_t(T2, x),   \</span>
<span class="cp">                                          const T2* : as_format_t(T2, x),</span></pre>
          </div></section>
          <section class="m-doc-details" id="ga1f1f5d22f6179041556466971eb4bb61"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga1f1f5d22f6179041556466971eb4bb61" class="m-doc-self">as_format</a>(</span><span class="m-doc-wrap">x)</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Converts the given variable into its associated <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> Trait implementation.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">x</td>
                  <td>- The variable to convert to its <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> Trait implementation</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td><code>x</code> as <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code></td>
                </tr>
              </tfoot>
            </table>
<p>There must be an implementation of <code><a href="structCnxFormat.html" class="m-doc">CnxFormat</a></code> for the type of <code>x</code> and <code>x</code> must be an lvalue</p>
          </div></section>
          <section class="m-doc-details" id="gaa460ab88c2a53c06491f0bc55f371279"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#gaa460ab88c2a53c06491f0bc55f371279" class="m-doc-self">cnx_format_with_allocator</a>(</span><span class="m-doc-wrap">format_string,
              allocator,
              ...)</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Formats the various parameter pack arguments into their associated place in the given format string, using the provided allocator.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">format_string</td>
                  <td>- The string specifying the format positions, specifiers, and other text that should be present in the output string</td>
                </tr>
                <tr>
                  <td>allocator</td>
                  <td>- The <code><a href="structCnxAllocator.html" class="m-doc">CnxAllocator</a></code> to allocate the output string with</td>
                </tr>
                <tr>
                  <td>...</td>
                  <td>- The parameter pack of arguments to be formatted</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>The formatted output string</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="ga8875030a5ae8a1d926bbac6e184c6791"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga8875030a5ae8a1d926bbac6e184c6791" class="m-doc-self">cnx_format</a>(</span><span class="m-doc-wrap">format_string,
              ...)</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Formats the various parameter pack arguments into their associated place in the given format string, using the default allocator.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">format_string</td>
                  <td>- The string specifying the format positions, specifiers, and other text that should be present in the output string</td>
                </tr>
                <tr>
                  <td>...</td>
                  <td>- The parameter pack of arguments to be formatted</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>The formatted output string</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="gadb0a83f9ea3a7100b0983b311a7ad394"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#gadb0a83f9ea3a7100b0983b311a7ad394" class="m-doc-self">cnx_vformat_with_allocator</a>(</span><span class="m-doc-wrap">format_string,
              allocator,
              num_args,
              list)</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Formats the various <code>va_list</code> parameter pack arguments into their associated place in the given format string, using the provided allocator.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">format_string</td>
                  <td>- The string specifying the format positions, specifiers, and other text that should be present in the output string</td>
                </tr>
                <tr>
                  <td>allocator</td>
                  <td>- The <code><a href="structCnxAllocator.html" class="m-doc">CnxAllocator</a></code> to allocate the output string with</td>
                </tr>
                <tr>
                  <td>num_args</td>
                  <td>- The number of arguments in the parameter pack</td>
                </tr>
                <tr>
                  <td>list</td>
                  <td>- The <code>va_list</code> parameter pack of arguments to be formatted</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>The formatted output string</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="ga9f1f8e369d1772d8e4ea6e0a6881fc0d"><div>
            <h3>
              <span class="m-doc-wrap-bumper">#define <a href="#ga9f1f8e369d1772d8e4ea6e0a6881fc0d" class="m-doc-self">cnx_vformat</a>(</span><span class="m-doc-wrap">format_string,
              num_args,
              list)</span>
              <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="Format_8h.html">&lt;include/Cnx/Format.h&gt;</a></div>
            </h3>
            <p>Formats the various <code>va_list</code> parameter pack arguments into their associated place in the given format string, using the default allocator.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">format_string</td>
                  <td>- The string specifying the format positions, specifiers, and other text that should be present in the output string</td>
                </tr>
                <tr>
                  <td>num_args</td>
                  <td>- The number of arguments in the parameter pack</td>
                </tr>
                <tr>
                  <td>list</td>
                  <td>- The <code>va_list</code> parameter pack of arguments to be formatted</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>The formatted output string</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Cnx A Proof-of-Concept For A Modern Standard Library for GNU C (11+). Created with <a href="https://doxygen.org/">Doxygen</a> 1.9.4 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
